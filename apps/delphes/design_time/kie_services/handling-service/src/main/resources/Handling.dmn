<?xml version="1.0" encoding="UTF-8" ?>
<definitions xmlns="https://www.omg.org/spec/DMN/20230324/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20230324/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:di="http://www.omg.org/spec/DMN/20180521/DI/" xmlns:kie="https://kie.org/dmn/extensions/1.0" xmlns:included0="https://kie.org/dmn/_A8CA9047-CF92-4F7E-8536-1C355FEC1656" xmlns:included1="https://kie.apache.org/dmn/_31A4AC64-3D40-4C48-828C-53B6D6736625" expressionLanguage="https://www.omg.org/spec/DMN/20230324/FEEL/" namespace="https://kie.org/dmn/_BF64F3D2-3DA8-427B-8C26-7C5C5CE62617" id="_C4F9257E-9368-4CBB-87E1-4F11140C9B46" name="HandlingUnified">
  <import id="_2F455FE8-6EA6-4A05-8DAF-FBC591773DBA" name="DataTypes" importType="http://www.omg.org/spec/DMN/20180521/MODEL/" namespace="https://kie.org/dmn/_A8CA9047-CF92-4F7E-8536-1C355FEC1656" locationURI="./DataTypes.dmn" />
  <import id="_A28DFCF2-DA4A-4F0A-B10B-EDD2A0B3F4FD" name="HandlingNational" importType="http://www.omg.org/spec/DMN/20180521/MODEL/" namespace="https://kie.apache.org/dmn/_31A4AC64-3D40-4C48-828C-53B6D6736625" locationURI="./HandlingNational.dmn" />
  <inputData name="request" id="_F8AAA542-ED89-41CA-BB90-96C8562EEF32">
    <variable name="request" id="_8C4C007F-F0CD-424D-972B-684457B45548" typeRef="DataTypes.CaseHandlingDecisionInput" />
  </inputData>
  <decision name="HandlingUnified" id="_CFC7BFCB-D999-493F-97E3-56CE2A9970DC">
    <variable id="_B7AB7BE6-A7F0-4DD3-A3BE-0066300AC923" typeRef="DataTypes.CaseHandlingDecisionOutput" name="HandlingUnified" />
    <informationRequirement id="_A5740971-0EEF-40E6-A414-F792180DAE82">
      <requiredInput href="#_F8AAA542-ED89-41CA-BB90-96C8562EEF32" />
    </informationRequirement>
    <informationRequirement id="_208504C1-7518-4146-AF97-DD190EC7F214">
      <requiredDecision href="#_16CCF9FA-50B8-44A1-B2A6-DE7DDEF8AC4E" />
    </informationRequirement>
    <knowledgeRequirement id="_A8AC21D5-FD4A-4FA3-B5F3-7765C0A4C385">
      <requiredKnowledge href="#_806B1FF9-6FF3-4735-935D-C2E28EFC06E2" />
    </knowledgeRequirement>
    <literalExpression id="_D419DEF6-9864-4202-B408-E82795FC4594" typeRef="DataTypes.CaseHandlingDecisionOutput" label="HandlingUnified">
      <text>CombineSpecificAndDefault(NationalLevel, NationalLevel)</text>
    </literalExpression>
  </decision>
  <decision name="NationalLevel" id="_16CCF9FA-50B8-44A1-B2A6-DE7DDEF8AC4E">
    <variable name="NationalLevel" id="_347A3D72-B791-4925-B714-A1C769CCD188" typeRef="DataTypes.CaseHandlingDecisionOutput" />
    <informationRequirement id="_B554C061-87BC-464A-8CD9-BC0975FC2D51">
      <requiredInput href="#_F8AAA542-ED89-41CA-BB90-96C8562EEF32" />
    </informationRequirement>
    <knowledgeRequirement id="_C181B0AD-A6FC-4803-B03B-C335FEBB00B3">
      <requiredKnowledge href="https://kie.apache.org/dmn/_31A4AC64-3D40-4C48-828C-53B6D6736625#_A1A4B18F-BDD9-4361-9223-DD09599CF546" />
    </knowledgeRequirement>
    <literalExpression id="_41D29BEF-63C5-4A13-AC30-4BEE08041266" typeRef="DataTypes.CaseHandlingDecisionOutput" label="NationalLevel">
      <text>HandlingNational.HandlingNational(request)</text>
    </literalExpression>
  </decision>
  <businessKnowledgeModel name="CombineSpecificAndDefault" id="_806B1FF9-6FF3-4735-935D-C2E28EFC06E2">
    <variable name="CombineSpecificAndDefault" id="_3A67F0A5-D349-40B8-A1D1-E32916404D5F" typeRef="DataTypes.CaseHandlingDecisionOutput" />
    <encapsulatedLogic label="CombineSpecificAndDefault" typeRef="DataTypes.CaseHandlingDecisionOutput" id="_8C3CE2BF-56B4-4184-9A46-4E3734B0929C" kind="FEEL">
      <formalParameter id="_F78198BC-38EF-4F41-AF60-16DE26889DB8" name="specific" typeRef="DataTypes.CaseHandlingDecisionOutput" />
      <formalParameter id="_82026066-CE7A-49B1-B6A1-54C8A3BF20B3" name="default" typeRef="DataTypes.CaseHandlingDecisionOutput" />
      <relation id="_02E89B46-08F9-45BE-84DA-087DAC4377F5" typeRef="DataTypes.CaseHandlingDecisionOutput" label="Return">
        <column id="_07945F01-F285-40ED-AA50-EE9D3BBBF9C8" name="priority" typeRef="string" />
        <column id="_660B6FBB-DE2F-478C-844D-FB50E8ACE2EB" name="work_basket" typeRef="string" />
        <column id="_B5BD0EA2-681F-47C0-80A5-294886B5DE3D" name="response_template_id" typeRef="string" />
        <column id="_0E1F2F6E-83C7-4102-9A68-66222A91D2C8" name="acknowledgement_message" typeRef="string" />
        <column id="_8CE381AC-ED55-4E1E-9A09-3C291DA82309" name="handling" typeRef="string" />
        <row id="_0A7BFB03-D039-498E-943E-F8AF11AAEBF9">
          <literalExpression id="_2B09F70D-BE13-4AA1-9B60-E647F0931A00">
            <text>if (specific.priority = null) then default.priority else specific.priority</text>
          </literalExpression>
          <literalExpression>
            <text>if (specific.work_basket = null) then &quot;default basket&quot; else specific.work_basket</text>
          </literalExpression>
          <literalExpression>
            <text>&quot;&quot;</text>
          </literalExpression>
          <literalExpression>
            <text>&quot;&quot;</text>
          </literalExpression>
          <literalExpression>
            <text>&quot;&quot;</text>
          </literalExpression>
        </row>
      </relation>
    </encapsulatedLogic>
  </businessKnowledgeModel>
  <dmndi:DMNDI>
    <dmndi:DMNDiagram id="_9DC97CE6-72D8-4B56-A0F7-8C3490B3BB92" name="Default DRD" useAlternativeInputDataShape="false">
      <di:extension>
        <kie:ComponentsWidthsExtension>
          <kie:ComponentWidths dmnElementRef="_41D29BEF-63C5-4A13-AC30-4BEE08041266">
            <kie:width>190</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_D419DEF6-9864-4202-B408-E82795FC4594">
            <kie:width>616</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_02E89B46-08F9-45BE-84DA-087DAC4377F5">
            <kie:width>60</kie:width>
            <kie:width>211</kie:width>
            <kie:width>209</kie:width>
            <kie:width>153</kie:width>
            <kie:width>174</kie:width>
            <kie:width>378</kie:width>
          </kie:ComponentWidths>
        </kie:ComponentsWidthsExtension>
      </di:extension>
      <dmndi:DMNShape id="_B6F5ADF5-4FA5-440D-A567-2397C7642E48" dmnElementRef="_F8AAA542-ED89-41CA-BB90-96C8562EEF32" isCollapsed="false" isListedInputData="false">
        <dc:Bounds x="100" y="460" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_9BA3A284-6319-4373-A51E-37FE5B16C6BF" dmnElementRef="_CFC7BFCB-D999-493F-97E3-56CE2A9970DC" isCollapsed="false" isListedInputData="false">
        <dc:Bounds x="100" y="100" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNEdge id="_539F7A36-2ECD-4828-B782-945E51DBA929-AUTO-TARGET" dmnElementRef="_A5740971-0EEF-40E6-A414-F792180DAE82" sourceElement="_B6F5ADF5-4FA5-440D-A567-2397C7642E48" targetElement="_9BA3A284-6319-4373-A51E-37FE5B16C6BF">
        <di:waypoint x="180" y="500" />
        <di:waypoint x="180" y="140" />
      </dmndi:DMNEdge>
      <dmndi:DMNShape id="_094DCD7F-A190-4CCC-8009-F56D673EAA19" dmnElementRef="_16CCF9FA-50B8-44A1-B2A6-DE7DDEF8AC4E" isCollapsed="false" isListedInputData="false">
        <dc:Bounds x="460" y="280" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNEdge id="_FB547F1B-9816-41AA-BAD3-A464D7563DB9" dmnElementRef="_208504C1-7518-4146-AF97-DD190EC7F214" sourceElement="_094DCD7F-A190-4CCC-8009-F56D673EAA19" targetElement="_9BA3A284-6319-4373-A51E-37FE5B16C6BF">
        <di:waypoint x="540" y="320" />
        <di:waypoint x="180" y="180" />
      </dmndi:DMNEdge>
      <dmndi:DMNEdge id="_32E46161-0D0E-4FE9-9125-78A30BAE2464" dmnElementRef="_B554C061-87BC-464A-8CD9-BC0975FC2D51" sourceElement="_B6F5ADF5-4FA5-440D-A567-2397C7642E48" targetElement="_094DCD7F-A190-4CCC-8009-F56D673EAA19">
        <di:waypoint x="180" y="500" />
        <di:waypoint x="540" y="360" />
      </dmndi:DMNEdge>
      <dmndi:DMNShape id="_D7898C65-8020-4E3D-8423-04788C4A26D8" dmnElementRef="included1:_A1A4B18F-BDD9-4361-9223-DD09599CF546">
        <dc:Bounds x="940" y="320" width="1020" height="660" />
        <dmndi:DMNDecisionServiceDividerLine id="_EE03CACB-F715-43D3-8BA1-691D13917048">
          <di:waypoint x="940" y="660" />
          <di:waypoint x="1260" y="660" />
        </dmndi:DMNDecisionServiceDividerLine>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_83CD7851-A610-4DC5-920E-1682FCD74A55" dmnElementRef="included1:_B9A11787-37A8-4483-ACB5-41CD25B98DF6">
        <dc:Bounds x="1320" y="380" width="240" height="220" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_91CF7D85-C389-472E-A207-799B08E6B504" dmnElementRef="included1:_6A426569-E9D9-4ED3-ADE4-D2BE13E215CA">
        <dc:Bounds x="1540" y="760" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_6C92BA63-89D4-481C-9575-7003639613D9" dmnElementRef="included1:_4DE253C6-0AED-4D3F-AB93-02F7994079C6">
        <dc:Bounds x="1360" y="760" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_9837001B-BCB1-4CE7-8ACB-EDF9446B512C" dmnElementRef="included1:_57D94780-679F-4493-AFC6-9B142F556345">
        <dc:Bounds x="1720" y="760" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_4DE028D0-3745-4E4F-B2BE-F6BA599B242C" dmnElementRef="included1:_69CA793F-52F0-47C8-BFA1-1AFF3C8C9702">
        <dc:Bounds x="980" y="760" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNShape id="_C19DDCB4-3667-4FAB-9AAC-5DE7602484D0" dmnElementRef="included1:_1325C96D-7403-4A6E-A221-2E0BDBB36EF6">
        <dc:Bounds x="1160" y="760" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNEdge id="_F4F297F1-9130-4005-85FC-68CBC348275E" dmnElementRef="_C181B0AD-A6FC-4803-B03B-C335FEBB00B3" sourceElement="_D7898C65-8020-4E3D-8423-04788C4A26D8" targetElement="_094DCD7F-A190-4CCC-8009-F56D673EAA19">
        <di:waypoint x="1450" y="650" />
        <di:waypoint x="620" y="320" />
      </dmndi:DMNEdge>
      <dmndi:DMNShape id="_4C173F78-03ED-48AD-BBC1-9CD5825C16D9" dmnElementRef="_806B1FF9-6FF3-4735-935D-C2E28EFC06E2" isCollapsed="false" isListedInputData="false">
        <dc:Bounds x="-80" y="200" width="160" height="80" />
      </dmndi:DMNShape>
      <dmndi:DMNEdge id="_F382C072-EE65-4B20-8401-F46E34569D86" dmnElementRef="_A8AC21D5-FD4A-4FA3-B5F3-7765C0A4C385" sourceElement="_4C173F78-03ED-48AD-BBC1-9CD5825C16D9" targetElement="_9BA3A284-6319-4373-A51E-37FE5B16C6BF">
        <di:waypoint x="0" y="240" />
        <di:waypoint x="100" y="140" />
      </dmndi:DMNEdge>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</definitions>
